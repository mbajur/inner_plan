<div data-tasks-tree-target="group" data-update-url="<%= update_position_group_path(group) %>" data-id="<%= group.id %>" <% if !group.default? %>data-is-draggable="true"<% end %>>
  <% if !group.default? %>
    <div class="d-flex w-100 mb-2">
      <div class="align-top me-2 text-body-tertiary group-handle cm">
        <div class="dropstart" style="margin-top:-0.1rem">
          <a class="align-top text-body-tertiary list-handle cm" data-bs-toggle="dropdown">
            <%= render(Phlex::Icons::Tabler::GripVertical.new(width: 20, height: 20)) %>
          </a>

          <ul class="dropdown-menu">
            <li>
              <%= link_to edit_group_path(group), class: "dropdown-item d-flex gap-2 align-items-center" do %>
                <%= render(Phlex::Icons::Tabler::Pencil.new(width: 18, height: 18, class: 'text-secondary')) %>
                <span>Edit group</span>
              <% end %>
            </li>
          </ul>
        </div>
      </div>

      <div class="ms-1 w-100">
        <strong><%= link_to group.title, group, class: 'text-reset text-decoration-none' %></strong>
      </div>
    </div>
  <% end %>


  <div data-tasks-tree-target="tasksContainer" id="<%= dom_id(group, :ongoing_tasks) %>" <% unless group.default? %>style="min-height: 1px; margin-top: -1px;"<% end %>>
    <% group.tasks.ongoing.ordered_by_position.each do |task| %>
      <%= render(InnerPlan::Tasks::RowComponent.new(task, context: local_assigns[:context])) %>
    <% end %>
  </div>
</div>
